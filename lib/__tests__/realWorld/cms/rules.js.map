{"version":3,"sources":["../../../../src/__tests__/realWorld/cms/rules.js"],"names":[],"mappings":";;;;;;;;wBAAoB,WAAW;;;;sBACZ,UAAU;;;;qBACX,gBAAgB;;;;qBAEnB,uBAAU;AACrB,aAAS,EAAE,iBAAU,GAAG,EAAG;AACvB,WAAG,CAAC,KAAK,GAAG,oBAAO,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAClC,YAAI,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC/C,WAAG,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,IAAI,EAAE,CAAC;AAC9B,cAAM,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AAC5C,YAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;AAClB,YAAI,CAAC,GAAG,CAAC,IAAI,EAAE,qBAAQ,GAAG,CAAC,oBAAO,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAC5C,OAAO,EAAE,CAAC,IAAI,CAAC,UAAA,GAAG;mBAAI,GAAG,CAAC,IAAI;SAAA,CAAC,CAAC,CAAC;AACtC,eAAO,GAAG,CAAC;KACd;CACJ,CAAC","file":"rules.js","sourcesContent":["import request from \"./request\";\nimport router from \"./routes\";\nimport Slots from \"../../../slots\";\n\nexport default new Slots({\n    \"request\": function (req)  {\n        req.route = router.match(req.url);\n        let path = req.url.substr(1).replace(\"/\", \".\");\n        req.params = req.params || {};\n        Object.assign(req.params, req.route.params);\n        this.ctx.commit();\n        this.set(path, request.get(router.url(req.route))\n            .promise().then(res => res.body));\n        return req;\n    }\n});"]}