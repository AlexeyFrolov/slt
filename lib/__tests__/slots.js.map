{"version":3,"sources":["../../src/__tests__/slots.js"],"names":[],"mappings":";;;;qBAAkB,UAAU;;;;AAE5B,QAAQ,CAAC,OAAO,EAAE,YAAM;AACpB,QAAI,KAAK,YAAA,CAAC;AACV,MAAE,CAAE,4BAA4B,EAAE,YAAM;AACpC,YAAI,GAAG,GAAG,SAAN,GAAG,CAAc,KAAK,EAAE,EAC3B,CAAC;AACF,YAAI,KAAK,GAAG;AACR,mBAAO,EAAE,GAAG;SACf,CAAC;;AAEF,YAAI,KAAK,GAAG;AACR,aAAC,EAAE;AACC,iBAAC,EAAE,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;aACb;AACD,aAAC,EAAE,CAAC,CAAC,CAAC;SACT,CAAC;;AAEF,aAAK,GAAG,uBAAU,KAAK,EAAE,KAAK,CAAC,CAAC;AAChC,cAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAE;AACzB,mBAAO,EAAE;AACL,mBAAG,EAAE,GAAG;AACR,oBAAI,EAAE,EAAE;aACX;SACJ,CAAC,CAAC;;AAEH,cAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;KAClD,CAAC,CAAC;;AAEH,MAAE,CAAE,oBAAoB,EAAE,YAAM;AAC5B,YAAI,IAAI,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AACtB,aAAK,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;AAC9B,cAAM,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC;AACzC,cAAM,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC;AACnD,cAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,OAAO,CAAC;AACxB,aAAC,EAAE;AACC,iBAAC,EAAE,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;aACb;AACD,aAAC,EAAE,CAAC,CAAC,CAAC;SACT,CAAC,CAAC;KACN,CAAC,CAAC;;AAEH,QAAM,KAAK,GAAG,uBAAU,EAAE,EAAE,EAAE,CAAC,CAAC;AAChC,SAAK,CAAC,GAAG,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,EAAC,EAAE,EAAE,CAAC,EAAC,EAAC,CAAC,CAAC,MAAM,EAAE,CAAC;AAC7D,QAAM,KAAK,GAAG,uBAAU,EAAE,EAAE,KAAK,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;AACrD,MAAE,CAAE,sBAAsB,EAAE,YAAM;AAC9B,cAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;KACpE,CAAC,CAAC;CACN,CAAC,CAAC","file":"slots.js","sourcesContent":["import Slots from \"../slots\";\n\ndescribe('Slots', () => {\n    let slots;\n    it ('should set Rules and State', () => {\n        let set = function  (route) {\n        };\n        let rules = {\n            \"route\": set\n        };\n\n        let state = {\n            s: {\n                b: [1,2,3]\n            },\n            x: [0]\n        };\n\n        slots = new Slots(rules, state);\n        expect(slots.rules).toEqual( {\n            \"route\": {\n                set: set,\n                deps: []\n            }\n        });\n\n        expect(slots.getState().toJS()).toEqual(state);\n    });\n\n    it ('should set and get', () => {\n        let path = [\"s\", \"b\"];\n        slots.set(path, [4]).commit();\n        expect(slots.get(path)).toEqual([4,2,3]);\n        expect(slots.get(path.join('.'))).toEqual([4,2,3]);\n        expect(slots.get()).toEqual({\n            s: {\n                b: [4,2,3]\n            },\n            x: [0]\n        });\n    });\n\n    const flox2 = new Slots({}, {});\n    flox2.set('route', {name: 'page', params: {id: 1}}).commit();\n    const flox3 = new Slots({}, flox2.getState().toJS());\n    it ('should restore state', () => {\n        expect(flox3.getState().toJS()).toEqual(flox2.getState().toJS());\n    });\n});\n\n"]}